**** Creation of wflow XML configuration files for GLOFFIS - Delft-FEWS based Configuration ****

This set of python scripts is intended to create a series of configuration files for Delft-FEWS, retriving information from a Microsoft Access Database related to the data products considered and the wflow_sbm hydrological models incorporated to the system, to contribute to the automatization of the Gloffis Global Hydrological Forecasting System set up.

The configuration files generated by the scripts are from the following Delft-FEWS directories:
-ColdStateFiles 
-DisplayConfigFiles
-IdMapFiles
-MapLayerFiles 
-ModuleConfigFiles
-ModuleDataSetFiles
-RegionConfigFiles
-WorkflowFiles 

## To run the scripts, Anaconda will be needed. Once you have it installed on your PC, open the command prompt window and use the change directory command (cd) to go to the src folder of this repository, and create a Python environment using the environment.yml file.

conda activate
conda env create -f environment.yml

Once the environment is created, the packages need to be installed in the python environment. Thus, from the same directory as the environment.yml file: 

conda activate gloffis
pip install -e .
conda deactivate

## Since information is retrieved from a Microsoft Access Database, be sure the Microsoft ACE drivers 'Microsoft Access Driver (*.mdb, *.accdb)' are available.
	
	To check if the drivers are installed, you could run from your python IDE: 
	import pyodbc
	print([x for x in pyodbc.drivers() if x.startswith('Microsoft Access Driver')])

	If drivers are installed, the list will show the 'Microsoft Access Driver (*.mdb, *.accdb)' driver. Otherwise, the list will return empty. 

# If the drivers are not installed, you can obtain them from: 
	
	https://www.microsoft.com/en-US/download/details.aspx?id=13255 
	
In case the Access Database Engine could not be installed because of discrepancies between versions of Office installed (32-64 bits), please install the Microsoft ACE drivers on pasive mode from the command line: 

		*To install the Microsoft ACE 64-bit driver on a machine running Office 2010 32-bit:

			$> AccessDatabaseEngine_X64.exe /passive
			
		*To install the Microsoft ACE 32-bit driver on a machine running Office 2010 64-bit:

			$> AccessDatabaseEngine.exe /passive	

## To run all the scripts in batch mode and generate all configuration files at once, please run the "master.py" script (..\scripts\gloffis\master.py)


This configuration production system tool was developed by Arianna Onate and Bart van Osnabrugge, using Python as coding language. Martijn Kwant (Deltares), Jan Verkade (Deltares) and Matthijs den Toom (Deltares) are contributors, which we gratefully acknowledge. The scripts composing the system are available from 2020 at https://github.com/a-onate/gloffis_prod. Other software used in this project is Delft-FEWS (Werner et al., 2013) freely available for end-users at www.delft-fews.eu, and wflow (Imhoff et al., 2020), whose open-source code can be found at https://github.com/openstreams/wï¬‚ow. Finally, the data used for this work includes the Numerical Weather Prediction products NWP ICON (ICOsahedral Nonhydrostatic model) made available free of charge by The Deutscher Wetterdienst (DWD) at http://opendata.dwd.de/ and the ERA5 reanalysis product distributed freely by the European Centre for Medium-Range Weather Forecasts (ECMWF) via https://cds.climate.copernicus.eu.