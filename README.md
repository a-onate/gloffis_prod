# gloffis_prod
 gloffis_prod is an open-source software tool written in python and intended to contribute to the automatization of XML configuration files production for Deltares' Global Hydrological Forecasting System set up. It provides a new approach for configuration of Delft-FEWS based systems, showing its potential related to system maintenance, expansion and replicability.
 
 <p align="center">
<img width="800" height="470" src="https://github.com/a-onate/gloffis_prod/blob/main/doc/images/readme_ebro_fews.png">
</p>

### Description 

In certain cases when a forecasting system set-up based on Delft-FEWS could be useful and applicable to other study zones, or would likely need to expand the meteorological data sources used and the  hydrological models incorporated (e.g., to consider models with different spatial resolutions), the automatization of Delft-FEWS configuration could be useful, as these tasks would not be as fast forward if a traditional system set-up took place.
To address this prospect, the development of a production system that could replace the manual writing and editing of XML files was carried out, to automatically generate the configuration files. This production system is based on a series of scripts that take the necessary characteristics (according to the specific design adopted) for the system development (e.g., data considered, processing methods, models, etc.) from an external database. In this way, any changes made in the system for either its replication or expansion are directly done in the database, and by running the scripts they are propagated and reflected into the system.

The relational database compiles and organizes into tables with defined relationships the information mainly related to meteorological data products, its variables, and the external hydrological models coupled to the forecasting system. Later, the data is retrieved using multiple queries according to the required information for the scripts to produce the configuration.

Not all configuration files are generated automatically, as some configuration is not likely to change whereas the data products or models in the system are modified. Thus, then the system configuration relies on two groups:
1. The Delft-FEWS defaults, which is the basic configuration system, that do not directly depend on the information entered in the relational database (such as the processing module templates, internal parameters, unit conversion files, among others), and
2. The Delft-FEWS scripted files, which are fully dependant on the data held by the relational database and deeply inter-related to one another.

<p align="center">
<img width="500" height="250" src="https://github.com/a-onate/gloffis_prod/blob/main/doc/images/readme_system_composition.png">
</p>

A more detailed description of the scripts composing the toolkit and the files generated by each of them can be found in the table below: 

<p align="center">
<img width="800" height="1200" src="https://github.com/a-onate/gloffis_prod/blob/main/doc/images/readme_scripts-description.png">
</p>

